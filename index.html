<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레이싱 게임</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ecf0f1;
            text-align: center;
            overflow: hidden;
            position: relative; /* For absolute positioning of threejs-container */
        }
        #threejs-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place behind other content */
        }
        .main-container {
            background-color: rgba(44, 62, 80, 0.8);
            padding: 50px 80px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            z-index: 1; /* Place above Three.js background */
        }
        h1 {
            font-size: 4em;
            margin-bottom: 20px;
            color: #e74c3c; /* Game title color */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 300px;
        }
        .game-button {
            background-color: #3498db; /* Blue button */
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1.3em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .game-button:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .game-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        /* Specific button colors */
        .game-button.find-room { background-color: #2ecc71; } /* Green */
        .game-button.find-room:hover { background-color: #27ae60; }
        .game-button.create-room { background-color: #f1c40f; } /* Yellow */
        .game-button.create-room:hover { background-color: #f39c12; }
        .game-button.settings { background-color: #9b59b6; } /* Purple */
        .game-button.settings:hover { background-color: #8e44ad; }
    </style>
</head>
<body>
    <div id="threejs-background"></div>
    <div class="main-container">
        <h1>나의 멋진 레이싱 게임</h1>
        <div class="button-group">
            <button class="game-button find-room">방 찾기</button>
            <button class="game-button create-room">방 생성하기</button>
            <button class="game-button settings">설정</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer;
        const cars = [];
        const trackLength = 200; // Increased track length for more speed feel
        const carSpeed = 0.5; // Increased car speed for more speed feel

        function initThreeJS() {
            const container = document.getElementById('threejs-background');

            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x87ceeb); // Sky blue background

            // Camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 2, 5); // Closer to the track, slightly above
            camera.lookAt(0, 0, -10); // Look further down the track to emphasize speed

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0x404040); // Soft white light
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(0, 10, 5);
            scene.add(directionalLight);

            // Racing Track (Plane)
            const trackGeometry = new THREE.PlaneGeometry(20, trackLength);
            const trackMaterial = new THREE.MeshLambertMaterial({ color: 0x555555, side: THREE.DoubleSide });
            const track = new THREE.Mesh(trackGeometry, trackMaterial);
            track.rotation.x = Math.PI / 2; // Rotate to be horizontal
            track.position.y = -0.5; // Slightly below cars
            track.position.z = -trackLength / 2; // Start track in front of camera
            scene.add(track);

            // Cars (simple boxes)
            const carColors = [0xff0000, 0x00ff00, 0x0000ff, 0xffff00, 0xff00ff];
            for (let i = 0; i < 5; i++) {
                const carGeometry = new THREE.BoxGeometry(1, 0.5, 2);
                const carMaterial = new THREE.MeshLambertMaterial({ color: carColors[i % carColors.length] });
                const car = new THREE.Mesh(carGeometry, carMaterial);
                car.position.set(Math.random() * 10 - 5, 0, -Math.random() * trackLength); // Random x, start at random z
                cars.push(car);
                scene.add(car);
            }

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);

            // Move cars forward
            cars.forEach(car => {
                car.position.z += carSpeed;
                if (car.position.z > 5) { // If car goes past camera, reset to back of track
                    car.position.z = -trackLength - (Math.random() * trackLength); // Reset further back
                    car.position.x = Math.random() * 10 - 5; // Random x position
                }
            });

            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        initThreeJS();
    </script>
</body>
</html>